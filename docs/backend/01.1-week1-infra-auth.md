# НЕДЕЛЯ 1: ИНФРАСТРУКТУРА + АУТЕНТИФИКАЦИЯ

Статус: 25% — есть `infra/azure.bicep`, проект `api/`; Azure AD B2C и роли не настроены

## Задачи (адаптированы под Functions/TS)

- [ ] Оформить ресурсы в `infra/azure.bicep`: Resource Group, Storage, Functions, App Insights, (позже) Cosmos/SQL, Service Bus, SignalR
- [ ] Параметры в `infra/azure.parameters.json` для Dev/Staging/Prod
- [ ] Настроить локальную разработку: Azure Functions Core Tools, `api/local.settings.json` (секреты — только локально)
- [ ] Azure AD B2C: создать User Flow, кастомные атрибуты (roles, department)
- [ ] Подключить в `api` валидацию JWT (минимум — проверка подписи/аудитории)

## Результаты

- Инфраструктура поднята в Dev
- Аутентификация B2C + basic RBAC

## Примечания по реализации (TS)

- Валидация JWT: использовать `@azure/functions` + библиотеку валидации JWT (например, `jose`) и метаданные OpenID B2C
- Секреты — через App Settings/Key Vault; локально — `api/local.settings.json`


